// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Phx = require("bucklescript-phx/src/phx.bs.js");
var Curry = require("bs-platform/lib/js/curry.js");
var Caml_option = require("bs-platform/lib/js/caml_option.js");

var opts = (function (playerId, player) {
        return {
            params: {
               playerId,
               player
            }
        }
    });

function initSocket(playerId, player) {
  return Phx.putOnClose((function (param) {
                console.log("Socket closed");
                
              }), Phx.connectSocket(undefined, Phx.initSocket(Caml_option.some(opts(playerId, player)), "/socket")));
}

function joinRoom(socket, id) {
  var partial_arg = "room:" + id;
  var arg = function (param, param$1) {
    return Phx.initChannel(partial_arg, param, param$1);
  };
  return Phx.joinChannel(undefined, Curry._2(arg, undefined, socket));
}

exports.opts = opts;
exports.initSocket = initSocket;
exports.joinRoom = joinRoom;
/* Phx Not a pure module */
